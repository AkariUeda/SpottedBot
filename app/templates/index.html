{% extends "base.html" %}

{% block content %}
{% load staticfiles %}

<!-- Carousel
================================================== -->
<div id="myCarousel" class="carousel slide" data-ride="carousel">
    <!-- Indicators -->
    <ol class="carousel-indicators">
        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
        <li data-target="#myCarousel" data-slide-to="1" class=""></li>
        <li data-target="#myCarousel" data-slide-to="2" class=""></li>
    </ol>
    <div class="carousel-inner" role="listbox">
        <div class="item active">
            <img class="third-slide" src="{% static 'img/carousel.jpg' %}" alt="Third slide">
            <div class="container">
                <div class="carousel-caption flex">
                    <h1>#{{ vars.last_spots.0.id }}</h1>
                    <p>{{ vars.last_spots.0.message | linebreaks}}</p>
                    <p><a class="btn btn-primary" target="_blank" href="https://www.facebook.com/{{ vars.last_spots.0.post_id }}" role="button">Ir para Spotted</a></p>
                </div>
            </div>
        </div>
        <div class="item">
            <img class="third-slide" src="{% static 'img/carousel.jpg' %}" alt="Third slide">
            <div class="container">
                <div class="carousel-caption flex">
                    <h1>#{{ vars.last_spots.1.id }}</h1>
                    <p>{{ vars.last_spots.1.message | linebreaks }}</p>
                    <p><a class="btn btn-primary" target="_blank" href="https://www.facebook.com/{{ vars.last_spots.1.post_id }}" role="button">Ir para Spotted</a></p>
                </div>
            </div>
        </div>
        <div class="item">
            <img class="third-slide" src="{% static 'img/carousel.jpg' %}" alt="Third slide">
            <div class="container">
                <div class="carousel-caption flex">
                    <h1>#{{ vars.last_spots.2.id }}</h1>
                    <p>{{ vars.last_spots.2.message | linebreaks }}</p>
                    <p><a class="btn btn-primary" target="_blank" href="https://www.facebook.com/{{ vars.last_spots.2.post_id }}" role="button">Ir para Spotted</a></p>
                </div>
            </div>
        </div>

    </div>
    <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
</div><!-- /.carousel -->



<!-- Marketing messaging and featurettes
================================================== -->
<!-- Wrap the rest of the page in another container to center all the content. -->

<div class="container marketing">
    {% if messages %}
    {% for message in messages %}
    {% if message.tags == 'success' %}
    <div class="alert alert-success">
        <div class="container-fluid">
            <div class="alert-icon">
                <i class="material-icons">check</i>
            </div>
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true"><i class="material-icons">clear</i></span>
            </button>
            <b>Oba:</b> {{message |safe}}
        </div>
    </div>
    {% else %}
    <div class="alert alert-danger">
        <div class="container-fluid">
            <div class="alert-icon">
                <i class="material-icons">error_outline</i>
            </div>
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true"><i class="material-icons">clear</i></span>
            </button>
            <b>Oops:</b> {{message |safe}}
        </div>
    </div>
    {% endif %}
    {% endfor %}
    {% endif %}

    <!-- Three columns of text below the carousel -->
    <div class="row">
        <div class="col-lg-4">
            <i class="material-icons" style="font-size: 96px;">favorite</i>
            <h2>Spotteds Instantâneos</h2>
            <p>Nunca mais espere até seu spotted ser aprovado! Com o SpottedBot o seu Spotted é publicado instantâneamente na página! Além disso você pode marcar o seu alvo para facilmente permitir a troca de contatos!</p>
            <p><button data-toggle="modal" data-target="#Modal_trocar_contatos" class="btn btn-default" role="button">Trocar contatos?</button></p>

        </div><!-- /.col-lg-4 -->
        <div class="col-lg-4">
            <i class="material-icons" style="font-size: 96px;">lock</i>
            <h2>Seguro e Anônimo</h2>
            <p>Quer publicar anonimamente? Sem problemas! Com o SpottedBot o seu Spotted é sempre anônimo para o público! Além disso o SpottedBot usa o SEU feedback e inteligência artificial para filtrar os Spams!</p>
            <p><button data-toggle="modal" data-target="#Modal_spam" class="btn btn-default" role="button">Filtrar Spam?</button></p>
        </div><!-- /.col-lg-4 -->
        <div class="col-lg-4">
            <i class="material-icons" style="font-size: 96px;">account_circle</i>
            <h2>Gerencie seus Spotteds</h2>
            {% if not user.is_authenticated %}
            <p>Enviou um Spotted e, sem querer, escreveu algo que não devia? Não tema! Você sempre pode gerenciar e apagar seus Spotteds, caso queira! Basta criar uma conta e publicar seu Spotted enquanto logado nela!</p>
            <p><a class="btn btn-default" href="/login/facebook/" role="button">Criar conta!</a></p>
            {% else %}
            <p>Enviou um Spotted e, sem querer, escreveu algo que não devia? Não tema! Você sempre pode gerenciar e apagar seus Spotteds, caso queira! Basta acessar Meus Spotteds e apagá-los!</p>
            <p><a class="btn btn-default" href="/profile/" role="button">Meus Spotteds!</a></p>
            {% endif %}
        </div><!-- /.col-lg-4 -->

    </div><!-- /.row -->




    <hr class="featurette-divider">



    <div class="row featurette">
        <div class="col-md-8 col-md-offset-2">
            <h2 class="featurette-heading">Envie agora o seu spotted!<span class="text-muted"> Basta preencher o formulário a seguir.</span></h2>
            <p class="lead">Nunca foi tão fácil mandar um Spotted, marcar um Alvo e se conectar com ele! Aqui você pode fazer tudo isso e muito mais.<br><br>
                {% if not user.is_authenticated %}
                Para aproveitar todas as vantagens e ferramentas do site, crie sua conta ou entre nela clicando em:  <a href="/login/facebook"> <img style="max-height:30px" src="{% static 'img/login.png' %}"></a>
                {% else %}
                Não esqueça de checar se você recebeu algum Spotted <a href="#spots_for_me">Clicando Aqui</a> e de acessar o seu <a href="/profile">Perfil</a> para ver os Spotteds que você já mandou!
                {% endif %}
            </p>
        </div>
    </div>


    <hr class="featurette-divider">

    <div class="row featurette">
        <div class="col-md-5">
            <h2><span class="text-muted"> Instruções:</span></h2>

            <p class="lead">
                O formulário tem 4 opções:<br><br>
                <span class="text-muted"> Anônimo: </span> Permite a associação do Spotted à sua conta, além de outras vantagens. <button data-toggle="modal" data-target="#Modal_anonimo" class="btn btn-sm btn-info" role="button">Detalhes</button><br><br>
                <span class="text-muted"> Mensagem: </span> É a mensagem que será postada! Não esqueça de caprichar na sedução! <br><br>
                <span class="text-muted"> Anexo: </span> Permite que você adicione uma imagem / gif / vídeo / qualquer coisa ao seu Spotted!<br> Aparecerá logo abaixo dele!<br><br>
                <span class="text-muted"> Alvo: </span> URL do perfil do Facebook do seu alvo! Permite que seu alvo receba o Spotted diretamente pelo site do SpottedBot!


            </p>
        </div>
        <form class="text-center" action="/post_spotted/" method="post">{% csrf_token %}

            <div class="col-md-7">
                <div class="togglebutton">
                    <label>
                        {% if vars.placeholder.anonymous %}
                        <input name="anonymous" checked type="checkbox">
                        {% else %}
                        <input name="anonymous" type="checkbox">
                        {% endif %}
                        Spotted Anônimo?
                    </label>
                </div>

                <div class="col-md-10 col-md-offset-1">
                    <div style="text-align:left;" class="form-group label-floating">
                        <label class="control-label">Mensagem</label>

                        <textarea name="message" rows="6" class="form-control" required>{{ vars.placeholder.message }}</textarea>
                    </div>
                </div>
                <div class="col-md-10 col-md-offset-1">
                    <div style="text-align:left;" class="form-group label-floating">
                        <label class="control-label">URL do Anexo (Opcional)</label>

                        <input name="attachment" class="form-control" value="{{ vars.placeholder.attachment }}" type="url">
                    </div>
                </div>
                <div class="col-md-10 col-md-offset-1">
                    <div style="text-align:left;" class="form-group label-floating">
                        <label class="control-label">Alvo do seu spotted (Opcional)</label>

                        <input name="target" class="form-control" value="{{ vars.placeholder.target }}" type="text">
                    </div>
                </div>
                <div class="col-md-6 col-md-offset-1">
                    <div class="g-recaptcha" data-sitekey="6LdeuwcUAAAAAOmN80hxQzWGMIVPqHhWkQPJQV4O"></div>
                </div>
                <div class="col-md-4">

                    <button type="submit" class="btn btn-primary btn-round">
                        <i class="material-icons">check</i> Enviar spotted!
                    </button>
                </div>
            </div>
        </form>
    </div>

    {% if user.is_authenticated %}
    <hr class="featurette-divider">

    <div class="row featurette" id="spots_for_me">
        <div class="col-md-8 col-md-offset-2">
            <h3 class="featurette-heading"> Abaixo estão os Spotteds que foram enviados <span class="text-muted">para você</span>!</h3>
            <p class="lead">Algum spotted não te interessa? Dispense ele clicand em <span class="text-muted">Dispensar</span>.<br><br>
                Alguém mandou algo inadequado ou que te incomode? Clique em <span class="text-muted">Reportar</span> para enviar o Spotted para moderação imediatamente!
        </div>
    </div>
    <br><hr><br>
    {% for spotted in vars.spots %}
    <div class="col-md-4">
        <div class="card">
            <div class="card-block">
                <h4 class="card-title text-center">#{{ spotted.id }}</h4>
                {% if spotted.author %}
                <div class="text-center">
                    <a target="_blank" href="https://www.facebook.com/app_scoped_user_id/{{spotted.author.profile.get_uid}}" class="btn btn-info btn-round">Mostrar Autor</a>
                </div>
                {% endif %}
                <hr>
                <p class="card-text">{{spotted.message | linebreaks}}</p>
                <hr>
                <div class="footer row">
                    <div class="col-xs-4">
                        <a target="_blank" href="https://facebook.com/{{spotted.post_id}}" class="btn btn-sm btn-info btn-round">Abrir Spot.</a>
                    </div>
                    <div class="col-xs-4" style="margin-left:-5px">
                        <form action="/dismiss_spotted/" method="POST" accept-charset="utf-8">
                            {% csrf_token %}
                            <input type="hidden" name="id" value="{{spotted.id}}">

                            <button type="submit" class="btn btn-sm btn-success btn-round">Dispensar</button>
                        </form>
                    </div>
                    <div class="col-xs-4" style="margin-left:-5px">
                        <form action="/report_spotted/" method="POST" accept-charset="utf-8">
                            {% csrf_token %}
                            <input type="hidden" name="id" value="{{spotted.id}}">

                            <button type="submit" class="btn btn-sm btn-danger btn-round">Reportar</button>
                        </form>

                    </div>
                </div>
            </div>
        </div><!-- .end Card -->
    </div>

    {% endfor %}
    {% endif %}



    <!-- Modal Core -->
    <div class="modal fade" id="Modal_trocar_contatos" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h3 class="modal-title" id="myModalLabel">Trocando contatos</h3>
                </div>
                <div class="modal-body">
                    Marque um Alvo e envie seu Spotted enquanto logado na sua conta para Trocar contatos!<br>
                    Seu Alvo receberá o seu Spotted e, apenas seu alvo, verá que foi você quem mandou! Você pode receber Spotteds
                    dessa forma também! Tudo que precisa fazer é criar uma conta e esperar os crushes ;)<br>
                    Não quer ser identificado pelo crush? Sem problemas! Envie o Spotted selecionando a opção 'Anônimo' para enviar de forma 100% anônima!
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default btn-simple" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="Modal_spam" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h3 class="modal-title" id="myModalLabel">Spotteds automáticos e os spams</h3>
                </div>
                <div class="modal-body">
                    Hoje em dia a maioria dos Spotteds precisa de pessoas de verdade para moderar o conteúdo enviado.<br>
                    SpottedBot foi feito para ser 100% automatizado e filtragem de spam foi uma das nossas maiores preocupações.<br>
                    Nós usamos o feedback de vocês na forma do número e tipo de 'reações' ao Spotted no Facebook. O SpottedBot analisa esses valores,
                    Spotted por Spotted, para decidir o que é spam e o que não é.<br>
                    Eventualmente, quando tivermos uma boa base de dados, utilizaremos inteligência artifical para instantaneamente filtrar spam!<br>
                    <br>Não é o <b>máximo</b>? Colabore com a gente, marcando qualquer post como inadequado usando a carinha "brava" no Facebook!
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default btn-simple" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>


    <div class="modal fade" id="Modal_anonimo" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h3 class="modal-title" id="myModalLabel">Associando um Spotted a uma conta</h3>
                </div>
                <div class="modal-body">
                    SpottedBot permite que você, ao criar uma conta, decida se quer o seu Spotted associado a ela ou não.<br>
                    Spotteds não associados(ou anônimos) são 100% anônimos e isso implica em duas coisas:<br>
                    <ul>
                        <li>
                            Você não pode revisitar ou apagar um Spotted anônimo.
                        </li>
                        <li>
                            Se você marcar um Alvo, este não vai poder entrar em contato com você.
                        </li>
                    </ul>
                    Ressaltamos que sua autoria de Spotted <b>nunca</b> será divulgada, a não ser para um Alvo marcado.<br><br>
                    Recomendamos associar todos os Spotteds enviados à sua conta para manter um registro deles e ter a capacidade de, eventualmente, apagá-los.

                    <h3>Lembre-se que para <b>associar</b> um Spotted a uma conta você <b>não</b> deve marcar a opção Spotted Anônimo!</h3>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default btn-simple" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

</div>

{% endblock content %}